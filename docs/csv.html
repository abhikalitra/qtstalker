<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <link rel="stylesheet" type="text/css" href="qtstalker.css"
 media="screen">
  <script type="text/javascript" src="qtstalker.js">
 </script>
  <title>Qtstalker: CSV - Independent data loading for Comma-Separated
Values text files</title>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
</head>
<body>
<div id="content">
<div id="rightPanel">
<div id="version"></div>
<div id="toc">
<hr>
<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="toc.html">Table of Contents</a></li>
</ul>
</div>
</div>
<h1>CSV - Independent data loading for Comma-Separated Values text files</h1>
<p>'CSV' is a companion application for Qtstalker to "Import CSV
Quotes". It
enables the loading of data to the SQLite database for users that do
not have
better independent techniques for data management (e.g. connect your
own
external database to Qtstalker) </p>
<p>Note that this "CSV" application will always be basic, as it is
intended
that you manage your data as a separate concern.
</p>
<h2 id="data">Obtain the data as CSV files</h2>
<p>If you purchase data from a reliable data supplier, then it should
be
available as Comma-Separated Values (CSV) text files. </p>
<p>If you want to use free end-of-day (EOD) data (e.g. provided by
Yahoo) then
you need to obtain that each day as a CSV file using some independent
means,
e.g. manual download via web browser; or automated using 'wget', etc. </p>
<p>The field delimiter can be any character. The default is comma.
</p>
<h2 id="quality">Data quality</h2>
<p>You should have some independent means for data verification, e.g. a
Perl
script. </p>
<p>This "CSV" application will do some basic error detection while
loading the data.
</p>
<h2 id="filename">File names</h2>
<p>If no symbol name is supplied and the csv data has no symbol name
included, then CSV will use the filename as a default. Some data
files
will not have the symbol name on every data row. If they do, then
specify that
field to be "Ignore". </p>
<p>No attempt will be made to alter the filename when used as a symbol
override. So, if the filename is GOOG.txt then the imported symbol name
will be GOOG.txt. Previous versions tried to strip off the file suffix,
but this does not allow a user to intentionally use a .TO or .US suffix
if desired. So we will not try to second guess users. Anyway, file
suffix's are an evil dos, win32 legacy convention and should be
severely punished by law ;-)
</p>
<h2 id="date-time">Date or Date-Time format</h2>
<p>The date format is using the <a
 href="http://doc.qtsoftware.com/qdatetime.html#fromString-2">Qt date</a>
format
mask. That documentation explains how to specify any date or date-time
format.
</p>
<p>Some examples: </p>
<table>
  <thead>
    <tr>
      <th>Input</th>
      <th>Format</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2009-07-15</td>
      <td>yyyy-MM-dd</td>
    </tr>
    <tr>
      <td>15Jul09</td>
      <td>ddMMMyy</td>
    </tr>
    <tr>
      <td>2009/07/15 16:42:30</td>
      <td>yyyy/MM/dd HH:mm:ss</td>
    </tr>
  </tbody>
</table>
<h2 id="operation">Operation</h2>
<p>"CSV" is a command-line tool. This enables you greater flexibility
and
automation for your data loading. </p>
<p>Here are the switches and some examples of usage: </p>
<p><strong>-S</strong> is symbol.</p>
<p><strong>-D</strong> is date. (See <a href="#date-time">explanation</a> above.)</p>
<p><strong>-T</strong> is time. (See <a href="#date-time">explanation</a> above.)</p>
<p><strong>-O</strong> is open.</p>
<p><strong>-H</strong> is high.</p>
<p><strong>-L</strong> is low.</p>
<p><strong>-C</strong> is close.</p>
<p><strong>-V</strong> is volume.</p>
<p><strong>-I</strong> is open interest.</p>
<p><strong>-i</strong> is an input file containing quotes.</p>
<p><strong>-d</strong> is date format.</p>
<p><strong>-t</strong> is time format.</p>
<p><strong>-p</strong> is the file path to the database. If not used, the default ~/.CSV/quotes.sqlite will be used.<br>  &nbsp;This option is used if the user wants to use a different database, or manage multiple databases.</p>
<p><strong>-s</strong> is the delimiter.</p>
<p><strong>-n</strong> is the company name eg. 'Microsoft' no spaces allowed.</p>
<p><strong>-e</strong> is the exchange the security trades on.</p>
<p><strong>-y</strong> is the security type. This can be:</p>
<ul>
  <li>Stock</li>
  <li>Futures</li>
  <li>Index</li>
  <li>Bond</li>
</ul>
<p>
<strong>-f</strong> is csv field format 'D,O,H,L,C,V,I,G,N'
</p>
<p>
Use these fields to represent each line of text in the csv file.<br>
It is important to note that a line must contain at least the D,O,H,L,C,V
fields, otherwise the text will be rejected.
</p>
<ul>
  <li><strong>D</strong> is a date field</li>
  <li><strong>O</strong> is an open price field</li>
  <li><strong>H</strong> is a high price field</li>
  <li><strong>L</strong> is a low price field</li>
  <li><strong>C</strong> is a close price field</li>
  <li><strong>V</strong> is a volume field</li>
  <li><strong>I</strong> is an open interest field</li>
  <li><strong>G</strong> is used to ignore any unwanted fields in the line of text</li>
  <li><strong>N</strong> is used for the symbol name eg. Google</li>
</ul>

<h2 id="examples">Some examples</h2>
<p>
To import a csv file with symbol name 'FOO':<br>
<code>CSV -i /home/user/csv.txt -S FOO -d yyyy/MM/dd</code>
</p>
<p>
Same as above but using the filename for Symbol (i.e. BHP):<br>
<code>CSV -i /home/user/BHP -d yyyy/MM/dd -f D,O,H,L,C,V,I</code>
</p>
<p>
To import a csv file with multiple symbols:<br>
<code>CSV -i /home/user/csv.txt -d yyyy/MM/dd -f S,D,O,H,L,C,V,I -s ,</code>
</p>
<p>
To import a single quote:<br>
<code>CSV -d yyyy/MM/dd -s , -S FOO -D 2009/11/11 -O 100.5 -H 150.75 -L 50 -C 125.75 -V 100000 -I 123456</code>
</p>
<h2 id="todo">To do</h2>
<p>* Get some content from the old "cvs.html" doc.</p>
</div>
</body>
</html>
