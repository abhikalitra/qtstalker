<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Qtstalker: QuoteServer API - Quotes</title>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
  <link rel="stylesheet" type="text/css" href="qtstalker.css" media="screen" />
  <script src="qtstalker.js" type="text/javascript"> </script>
</head>
<body>
    <div id="content">
      <div id="rightPanel">
        <div id="version"></div>
        <div id="toc">
          <hr />
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="toc.html">Table of Contents</a></li>
        </div>
      </div>
<!-- Content -->
<h1>QuoteServer API - Quotes</h1>
<p>
These script commands modify quote data.
</p>
<p>
&lt;LENGTH&gt; is defined as one of the following:
</p>
<ul>
  <li>1 - 1 minute bar</li>
  <li>5 - 5 minute bar</li>
  <li>10 - 10 minute bar</li>
  <li>15 - 15 minute bar</li>
  <li>30 - 30 minute bar</li>
  <li>60 - 60 minute bar</li>
  <li>D - daily bar</li>
  <li>W - weekly bar</li>
  <li>M - monthly bar</li>
</ul>
<hr>
<h2 id="Set">Set</h2>
<p class="api">
Quotes,Set,&lt;TYPE&gt;,&lt;EXCHANGE&gt;,&lt;SYMBOL&gt;,&lt;DATE MASK&gt;,&lt;DATA&gt;\n
</p>
<p>Saves quote data to the database for the provided symbol.
</p>
<ul>
  <li>&lt;TYPE&gt; - the symbol type is one of the following</li>
  <ul>
    <li>F - is a futures contract</li>
    <li>S - is a stock</li>
  </ul>
  <li>&lt;EXCHANGE&gt; is the exchange the
quote originates from. eg.
'XNYS' </li>
  <li>&lt;SYMBOL&gt; is the symbol eg. 'GOOG'</li>
  <li>&lt;DATE MASK&gt; the date format of the quote. we use the <a
 href="APIDateFormat.html">Qt date mask format</a></li>
  <li>&lt;DATA&gt; the actual quote data in the following format
depending on the &lt;TYPE&gt;. Each quote field is delimited by a
comma. The formats are;
  </li>
  <ul>
    <li>F - Date,Open,High,Low,Close,Volume,OpenInterest</li>
    <li>S - Date,Open,High,Low,Close,Volume</li>
  </ul>
</ul>
<p>
Success returns 'OK\n'. Failure returns 'ERROR\n'.
</p>
<p>
A full example would be to save a stock quote '<span
 style="font-weight: bold;">Quotes,Set,S,XNYS,GOOG,yyyy-MM-dd
HH:mm:ss,2010-12-31 23:59:59,100,125,75,105,123456\n</span>'
</p>
<p>
To store more than 2 or more quotes would be:<br>
'<span style="font-weight: bold;">Quotes,Set,S,XNYS,GOOG,yyyy-MM-dd
HH:mm:ss,2010-12-30 16:00:00,100,125,75,105,123456,</span><span
 style="font-weight: bold;">2010-12-31 16:00:00,95,135,85,120,123456</span><span
 style="font-weight: bold;">\n</span>'
</p>
<p>
HINT: If you have many quotes to store, you will get huge speed gains
if you put more than 1 quote at a time to each command. Ideally,
putting all the quotes into one command will create huge speed
benefits. For example, 500 quotes 1 at a time might take about a
minute. However, all quotes at once would take 0.5 seconds or less.
</p>
<hr>
<h2 id="Date">Date</h2>
<p class="api">
Quotes,Date,&lt;EXCHANGE&gt;,&lt;SYMBOL&gt;,&lt;LENGTH&gt;,&lt;START DATE&gt;,&lt;END DATE&gt;,&lt;DATE RANGE&gt;\n
</p>
<p>Returns all quotes between and including the specified date ranges
for a specific database symbol.
</p>
<ul>
  <li>&lt;EXCHANGE&gt; is the exchange the
quote originates from. eg.
'XNYS' </li>
  <li>&lt;SYMBOL&gt; is the symbol eg. 'GOOG'</li>
  <li>&lt;LENGTH&gt; is the bar length eg. 'D'</li>
  <li>&lt;START DATE&gt; is the start date and time of the first bar
returned. the format is YYYYMMDDHHMMSS eg. '20100101000000'.</li>
  <li>&lt;END DATE&gt; is the end date up to and including the last
barreturned. the format is YYYYMMDDHHMMSS eg. '20101231235959'</li>
  <li>&lt;DATE RANGE&gt; this value should be '-1' if not required,
otherwise DATE RANGE is one of the following values:</li>
  <ul>
    <li>0 - 1 day</li>
    <li>1 - 1 week</li>
    <li>2 - 1 Month</li>
    <li>3 - 3 months</li>
    <li>4 - 6 months</li>
    <li>5 - 1 year</li>
    <li>6 - 2 years</li>
    <li>7 - 5 years</li>
    <li>8 - 10 years</li>
    <li>9 - 25 years</li>
    <li>10 - 50 years</li>
    <li>* - everything</li>
  </ul>
</ul>
<p>
NOTE: if the most recent quotes available is desired, START DATE and
END DATE should be '0' and DATE RANGE is used.
</p>
<p>
On success, the quotes are returned in a string. Each bar record is
delimited by a colon and each bar value is delimited by a comma. The
returned format for each bar is the following:
</p>
<ul>
  <li>Start Date - the bar open datetime in the YYYYMMDDHHMMSS format</li>
  <li>End Date - the bar close datetime in the YYYYMMDDHHMMSS format</li>
  <li>Open - the open value</li>
  <li>High - the high value</li>
  <li>Low - the low value</li>
  <li>Close - the close value</li>
  <li>Volume - the volume value</li>
  <li>Open Interest - the open interest value (only if symbol is of a
futures type)</li>
</ul>
<p>
If no bars fall into the date range provided, an empty string is
returned.
Failure returns 'ERROR\n'. Note that the bar data is returned is in
ascending datetime order.
</p>
<p>
A full example would be to request daily quotes for the year 2010 '<span
 style="font-weight: bold;">Quotes,Date,XNYS,GOOG,D,20100101000000,20101231235959,-1\n</span>'<br>
The returned data (if any) would be
'20100104093000,20100104160000,450,475.5,425.25,442.75,123456789:blah:blah:blah\n'
</p>
<p>
If one were to request the most recent quotes available '<span
 style="font-weight: bold;">Quotes,Date,XNYS,GOOG,D,0,0,5\n</span>'
would return the most recent data up to a year ago.
</p>
<hr>
<h2 id="Delete">Delete</h2>
<p class="api">
Quotes,Delete,&lt;EXCHANGE&gt;,&lt;SYMBOL&gt;\n
</p>
<p>Permanantly deletes the symbol and all its quotes from the database.
</p>
<ul>
  <li>&lt;EXCHANGE&gt; is the exchange the quote originates from. eg. 'XNYS' </li>
  <li>&lt;SYMBOL&gt; is the symbol eg. 'GOOG'</li>
</ul>
<p>
On success, 'OK\n' is returned. Failure returns 'ERROR\n'.
</p>
<p>A Full example would be '<span style="font-weight: bold;">Quotes,Delete,XNYS,GOOG\n</span>'
</p>
<hr>
<h2 id="Rename">Rename</h2>
<p class="api">
Quotes,Rename,&lt;OLD EXCHANGE&gt;,&lt;OLD SYMBOL&gt;,&lt;NEW EXCHANGE&gt;,&lt;NEW SYMBOL&gt;\n
</p>
<p>Renames the old symbol to the new symbol.
</p>
<ul>
  <li>&lt;OLD EXCHANGE&gt; is the old exchange the quote originates from. eg. 'FOO' </li>
  <li>&lt;OLD SYMBOL&gt; is the old symbol eg. 'BAR'</li>
  <li>&lt;NEW EXCHANGE&gt; is the new exchange the quote originates from. eg. 'XNYS' </li>
  <li>&lt;NEW SYMBOL&gt; is the new symbol eg. 'GOOG'</li>
</ul>
<p>
On success, 'OK\n' is returned. Failure returns 'ERROR\n'.
</p>
<p>A Full example would be '<span style="font-weight: bold;">Quotes,Rename,FOO,BAR,XNYS,GOOG\n</span>'
</p>
    </div>
</body>
</html>
