<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>QuoteServer API - YahooHistorical</title>
  <meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
  <link rel="stylesheet" type="text/css" href="qtstalker.css" media="screen" />
  <script src="qtstalker.js" type="text/javascript"> </script>
</head>
<body>
    <div id="content">
      <div id="rightPanel">
        <div id="version"></div>
        <div id="toc">
          <hr />
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="toc.html">Table of Contents</a></li>
        </div>
      </div>
<!-- Content -->
<h1>QuoteServer</h1>
<p>
Qtstalker uses a seperate app for quote services called QuoteServer. It
runs in its own process space to minimize OS threading loads from the
main app. Qtstalker uses the QuoteServer API to communicate over
sockets using a text based API. Normally, QuoteServer will be started
and stopped by Qtstalker. For normal operation the user should just use
the default settings. However, users with the appropriate skills may
run QuoteServer on a network to serve Qtstalker clients if one were so
inclined. These docs do not explain those functions.
</p>
<p>
Some of QuoteServer features are:
</p>
<ul>
  <li>server is completely multi-threaded</li>
  <li>uses only the Qt core library for dependancies</li>
  <li>uses sockets for IPC</li>
  <li>uses a text based API for simplicity and compatibility</li>
  <li>uses the sqlite sql engine for data storage</li>
  <li>plugin system for extendability</li>
</ul>
<p>
QuoteServer has a few command line switches. Run 'QuoteServer -h' to
see them. Qtstalker uses them when it starts up.
</p>
<p>
The defaults for QuoteServer are in localhost mode listening on port
5000. If you need to change the port number, there is a dialog in
Qtstalker on the Charts panel. Press the configure button to display
the dialog.
</p>
<h2>NOTES:</h2>
<p>
A few things to keep in mind when using QuoteServer...
</p>
<ol>
  <li>All commands sent to QuoteServer's API must be delimited by
a&nbsp; newline
'\n' character. This signals the server the end of the command has been
received and can then act on it. If no newline is received, then the
server will wait 3 seconds and time out.</li>
  <li>All commands sent to QuoteServer will return text also delimited
by the
newline '\n' character. The returned text is either the data requested
by the command in a specific format, 'OK\n' for success or 'ERROR\n'
for an error condition. The ~/QuoteServer/QuoteServer.log file will
contain the details for the error.</li>
  <li>Only 1 command per socket connection is allowed. In other words,
each
time you send a command to QuoteServer, you are allowed only one
command/return transaction. So if you wanted to run a series of
commands to QuoteServer, you would have to establish a new socket each
time. The server does this to minimize long write transactions between
threads so one thread does not hog the sql tables with a lock on the
database while making other threads/users wait.</li>
  <li>There is a default 3 second time out provision for sending and
receiving data to and from QuoteServer. If a script opens a socket and
3 seconds pass before any data is sent, then the server will close the
socket. Same goes for receiving data from the server.</li>
</ol>
    </div>
</body>
</html>
